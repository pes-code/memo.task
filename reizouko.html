<!DOCTYPE html>
<html lang="ja">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>冷蔵庫のSecurityService</title>
    <link rel="stylesheet" href="css/reizouko.css">
</head>

<body>
    <header>
        <div class="title_box">
            <div class="title_logo">
                <img src="img/security.png">
            </div>
            <div class="title_text">
                <h1>冷蔵庫のSecurityService</h1>
            </div>
        </div>
    </header>

    <main>
        <div class="icon_box">
            <div class="icon_box">
                <div class="icon_box_1">
                    <input type="image" src="img/potato.png" value="SOS" id="potato">
                    <p id="message0"></p>
                    <input type="button" value="" id="clear1">
                    <input type="image" src="img/squash.png" value="SOS" id="squash">
                    <p id="message1"></p>
                    <input type="button" value="" id="clear2">
                    <input type="image" src="img/sweet_potato.jpg" value="SOS" id="sweet_potato">
                    <p id="message2"></p>
                    <input type="button" value="" id="clear3">
                </div>
                <div class="icon_box_2">
                    <input type="image" src="img/burdock.jpg" value="SOS" id="burdock">
                    <p id="message3"></p>
                    <input type="button" value="" id="clear4">
                    <input type="image" src="img/carrot.png" value="SOS" id="carrot">
                    <p id="message4"></p>
                    <input type="button" value="" id="clear5">
                    <input type="image" src="img/onion.png" value="SOS" id="onion">
                    <p id="message5"></p>
                    <input type="button" value="" id="clear6">
                </div>
                <div class="icon_box_3">
                    <input type="image" src="img/tometo.png" value="SOS" id="tometo">
                    <p id="message6"></p>
                    <input type="button" value="" id="clear7">
                    <input type="image" src="img/cucunber.png" value="SOS" id="cucunber">
                    <p id="message7"></p>
                    <input type="button" value="" id="clear8">
                    <input type="image" src="img/green_pepper.jpg" value="SOS" id="green_pepper">
                    <p id="message8"></p>
                    <input type="button" value="" id="clear9">
                </div>
                <div class="icon_box_4">
                    <input type="image" src="img/chinese_cabbage.jpg" value="SOS" id="chinese_cabbage">
                    <p id="message9"></p>
                    <input type="button" value="" id="clear10">
                    <input type="image" src="img/cabbage.png" value="SOS" id="cabbage">
                    <p id="message10"></p>
                    <input type="button" value="" id="clear11">
                    <input type="image" src="img/lettuce.png" value="SOS" id="lettuce">
                    <p id="message11"></p>
                    <input type="button" value="" id="clear12">
                </div>
                <div class="icon_box_5">
                    <input type="image" src="img/egg.jpg" value="SOS" id="egg">
                    <p id="message12"></p>
                    <input type="button" value="" id="clear13">
                    <input type="image" src="img/tofu.jpg" value="SOS" id="tofu">
                    <p id="message13"></p>
                    <input type="button" value="" id="clear14">
                    <input type="image" src="img/natto.jpg" value="SOS" id="natto">
                    <p id="message14"></p>
                    <input type="button" value="" id="clear15">
                </div>
                <div class="icon_box_6">
                    <input type="image" src="img/milk.jpg" value="SOS" id="milk">
                    <p id="message15"></p>
                    <input type="button" value="" id="clear16">
                    <input type="image" src="img/yogurt.png" value="SOS" id="yogurt">
                    <p id="message16"></p>
                    <input type="button" value="" id="clear17">
                    <input type="image" src="img/preserved_food.jpg" value="SOS" id="preserved_food">
                    <p id="message17"></p>
                    <input type="button" value="" id="clear18">
                </div>
            </div>
        </div>
    </main>
    <footer>
    </footer>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
    <script>
        //アイコンを押すとローカルストレージに"SOS"というテキストが保存される。
        //一定期間経過(消費期限間近)すると自動的にローカルストレージから"SOS"が返ってくる。
        //返ってきた"SOS"が各アイコンの横(or下)に表示される
        //各アイコン下の"clear"ボタンを押すと該当するデータがクリアされる。

        //保存処理
        //各アイコンをクリックするとローカルストレージに"SOS"という文字列の値が保存される。
        $("#potato").on("click", function () {
            const data = {
                shelf_life0: $("#potato").val()
            };
            console.log(data);
            const jsonData = JSON.stringify(data);
            console.log(jsonData);
            localStorage.setItem("memo1", jsonData);

        });
        $("#squash").on("click", function () {
            const data = {
                shelf_life1: $("#squash").val()
            };
            console.log(data);
            const jsonData = JSON.stringify(data);
            console.log(jsonData);
            localStorage.setItem("memo2", jsonData);
        });
        $("#sweet_potato").on("click", function () {
            const data = {
                shelf_life2: $("#sweet_potato").val()
            };
            console.log(data);
            const jsonData = JSON.stringify(data);
            console.log(jsonData);
            localStorage.setItem("memo3", jsonData);
        });
        $("#burdock").on("click", function () {
            const data = {
                shelf_life3: $("#burdock").val()
            };
            console.log(data);
            const jsonData = JSON.stringify(data);
            console.log(jsonData);
            localStorage.setItem("memo4", jsonData);
        });
        $("#carrot").on("click", function () {
            const data = {
                shelf_life4: $("#carrot").val()
            };
            console.log(data);
            const jsonData = JSON.stringify(data);
            console.log(jsonData);
            localStorage.setItem("memo5", jsonData);
        });
        $("#onion").on("click", function () {
            const data = {
                shelf_life5: $("#onion").val()
            };
            console.log(data);
            const jsonData = JSON.stringify(data);
            console.log(jsonData);
            localStorage.setItem("memo6", jsonData);
        });
        $("#tometo").on("click", function () {
            const data = {
                shelf_life6: $("#tometo").val()
            };
            console.log(data);
            const jsonData = JSON.stringify(data);
            console.log(jsonData);
            localStorage.setItem("memo7", jsonData);
        });
        $("#cucunber").on("click", function () {
            const data = {
                shelf_life7: $("#cucunber").val()
            };
            console.log(data);
            const jsonData = JSON.stringify(data);
            console.log(jsonData);
            localStorage.setItem("memo8", jsonData);
        });
        $("#green_pepper").on("click", function () {
            const data = {
                shelf_life8: $("#green_pepper").val()
            };
            console.log(data);
            const jsonData = JSON.stringify(data);
            console.log(jsonData);
            localStorage.setItem("memo9", jsonData);
        });
        $("#chinese_cabbage").on("click", function () {
            const data = {
                shelf_life9: $("#chinese_cabbage").val()
            };
            console.log(data);
            const jsonData = JSON.stringify(data);
            console.log(jsonData);
            localStorage.setItem("memo10", jsonData);
        });
        $("#cabbage").on("click", function () {
            const data = {
                shelf_life10: $("#cabbage").val()
            };
            console.log(data);
            const jsonData = JSON.stringify(data);
            console.log(jsonData);
            localStorage.setItem("memo11", jsonData);
        });
        $("#lettuce").on("click", function () {
            const data = {
                shelf_life11: $("#lettuce").val()
            };
            console.log(data);
            const jsonData = JSON.stringify(data);
            console.log(jsonData);
            localStorage.setItem("memo12", jsonData);
        });
        $("#egg").on("click", function () {
            const data = {
                shelf_life12: $("#egg").val()
            };
            console.log(data);
            const jsonData = JSON.stringify(data);
            console.log(jsonData);
            localStorage.setItem("memo13", jsonData);
        });
        $("#tofu").on("click", function () {
            const data = {
                shelf_life13: $("#tofu").val()
            };
            console.log(data);
            const jsonData = JSON.stringify(data);
            console.log(jsonData);
            localStorage.setItem("memo14", jsonData);
        });
        $("#natto").on("click", function () {
            const data = {
                shelf_life14: $("#natto").val()
            };
            console.log(data);
            const jsonData = JSON.stringify(data);
            console.log(jsonData);
            localStorage.setItem("memo15", jsonData);
        });
        $("#milk").on("click", function () {
            const data = {
                shelf_life15: $("#milk").val()
            };
            console.log(data);
            const jsonData = JSON.stringify(data);
            console.log(jsonData);
            localStorage.setItem("memo16", jsonData);
        });
        $("#yogurt").on("click", function () {
            const data = {
                shelf_life16: $("#yogurt").val()
            };
            console.log(data);
            const jsonData = JSON.stringify(data);
            console.log(jsonData);
            localStorage.setItem("memo17", jsonData);
        });
        $("#preserved_food").on("click", function () {
            const data = {
                shelf_life17: $("#preserved_food").val()
            };
            console.log(data);
            const jsonData = JSON.stringify(data);
            console.log(jsonData);
            localStorage.setItem("memo18", jsonData);
        });

        //$("#potato").on("click", function () {
        //const potato = $("#potato").val();
        //console.log(potato);
        //localStorage.setItem("shelf_life", potato);
        //});

        //削除処理
        //それぞれのアイコンに対して削除ボタンを設置して選択的に削除する。
        $("#clear1").on("click", function () {
            localStorage.removeItem("memo1");
            $("#shelf_life0").val("");

        });

        $("#clear2").on("click", function () {
            localStorage.removeItem("memo2");
            $("#shelf_life1").val("");
        });

        $("#clear3").on("click", function () {
            localStorage.removeItem("memo3");
            $("#shelf_life2").val("");
        });


        $("#clear4").on("click", function () {
            localStorage.removeItem("memo4");
            $("#shelf_life3").val("");
        });

        $("#clear5").on("click", function () {
            localStorage.removeItem("memo5");
            $("#shelf_life4").val("");
        });


        $("#clear6").on("click", function () {
            localStorage.removeItem("memo6");
            $("#shelf_life5").val("");
        });

        $("#clear7").on("click", function () {
            localStorage.removeItem("memo7");
            $("#shelf_life6").val("");
        });

        $("#clear8").on("click", function () {
            localStorage.removeItem("memo8");
            $("#shelf_life7").val("");
        });

        $("#clear9").on("click", function () {
            localStorage.removeItem("memo9");
            $("#shelf_life8").val("");
        });

        $("#clear10").on("click", function () {
            localStorage.removeItem("memo10");
            $("#shelf_life9").val("");
        });

        $("#clear11").on("click", function () {
            localStorage.removeItem("memo11");
            $("#shelf_life10").val("");
        });

        $("#clear12").on("click", function () {
            localStorage.removeItem("memo12");
            $("#shelf_life11").val("");
        });


        $("#clear13").on("click", function () {
            localStorage.removeItem("memo13");
            $("#shelf_life12").val("");
        });


        $("#clear14").on("click", function () {
            localStorage.removeItem("memo14");
            $("#shelf_life13").val("");
        });

        $("#clear15").on("click", function () {
            localStorage.removeItem("memo15");
            $("#shelf_life14").val("");
        });

        $("#clear16").on("click", function () {
            localStorage.removeItem("memo16");
            $("#shelf_life15").val("");
        });

        $("#clear17").on("click", function () {
            localStorage.removeItem("memo17");
            $("#shelf_life16").val("");
        });

        $("#clear18").on("click", function () {
            localStorage.removeItem("memo18");
            $("#shelf_life17").val("");
        });

        //取得処理

        //ifの部分に期日が近づいたら｛｝内の処理がされるようにコードを書く。
        if (localStorage.getItem("memo1")) {
            const jsonData = localStorage.getItem("memo1");
            console.log(jsonData);
            const data = JSON.parse(jsonData);
            console.log(data);
            setTimeout(function () {
                $("#message0").text(data.shelf_life0)
            }, 3000);
        };
        if (localStorage.getItem("memo2")) {
            const jsonData = localStorage.getItem("memo2");
            console.log(jsonData);
            const data = JSON.parse(jsonData);
            console.log(data);
            setTimeout(function () {
                $("#message1").text(data.shelf_life1)
            }, 5000);
        };
        if (localStorage.getItem("memo3")) {
            const jsonData = localStorage.getItem("memo3");
            console.log(jsonData);
            const data = JSON.parse(jsonData);
            console.log(data);
            setTimeout(function () {
                $("#message2").text(data.shelf_life2)
            }, 1000);
        };
        if (localStorage.getItem("memo4")) {
            const jsonData = localStorage.getItem("memo4");
            console.log(jsonData);
            const data = JSON.parse(jsonData);
            console.log(data);
            setTimeout(function () {
                $("#message3").text(data.shelf_life3)
            }, 3000);
        };
        if (localStorage.getItem("memo5")) {
            const jsonData = localStorage.getItem("memo5");
            console.log(jsonData);
            const data = JSON.parse(jsonData);
            console.log(data);
            setTimeout(function () {
                $("#message4").text(data.shelf_life4)
            }, 3000);
        };
        if (localStorage.getItem("memo6")) {
            const jsonData = localStorage.getItem("memo6");
            console.log(jsonData);
            const data = JSON.parse(jsonData);
            console.log(data);
            setTimeout(function () {
                $("#message5").text(data.shelf_life5)
            }, 3000);
        };
        if (localStorage.getItem("memo7")) {
            const jsonData = localStorage.getItem("memo7");
            console.log(jsonData);
            const data = JSON.parse(jsonData);
            console.log(data);
            setTimeout(function () {
                $("#message6").text(data.shelf_life6)
            }, 3000);
        };
        if (localStorage.getItem("memo8")) {
            const jsonData = localStorage.getItem("memo8");
            console.log(jsonData);
            const data = JSON.parse(jsonData);
            console.log(data);
            setTimeout(function () {
                $("#message7").text(data.shelf_life7)
            }, 3000);
        };
        if (localStorage.getItem("memo9")) {
            const jsonData = localStorage.getItem("memo9");
            console.log(jsonData);
            const data = JSON.parse(jsonData);
            console.log(data);
            setTimeout(function () {
                $("#message8").text(data.shelf_life8)
            }, 3000);
        };
        if (localStorage.getItem("memo10")) {
            const jsonData = localStorage.getItem("memo10");
            console.log(jsonData);
            const data = JSON.parse(jsonData);
            console.log(data);
            setTimeout(function () {
                $("#message9").text(data.shelf_life9)
            }, 3000);
        };
        if (localStorage.getItem("memo11")) {
            const jsonData = localStorage.getItem("memo11");
            console.log(jsonData);
            const data = JSON.parse(jsonData);
            console.log(data);
            setTimeout(function () {
                $("#message10").text(data.shelf_life10)
            }, 3000);
        };
        if (localStorage.getItem("memo12")) {
            const jsonData = localStorage.getItem("memo12");
            console.log(jsonData);
            const data = JSON.parse(jsonData);
            console.log(data);
            setTimeout(function () {
                $("#message11").text(data.shelf_life11)
            }, 3000);
        };
        if (localStorage.getItem("memo13")) {
            const jsonData = localStorage.getItem("memo13");
            console.log(jsonData);
            const data = JSON.parse(jsonData);
            console.log(data);
            setTimeout(function () {
                $("#message12").text(data.shelf_life12)
            }, 3000);
        };
        if (localStorage.getItem("memo14")) {
            const jsonData = localStorage.getItem("memo14");
            console.log(jsonData);
            const data = JSON.parse(jsonData);
            console.log(data);
            setTimeout(function () {
                $("#message13").text(data.shelf_life13)
            }, 3000);
        };
        if (localStorage.getItem("memo15")) {
            const jsonData = localStorage.getItem("memo15");
            console.log(jsonData);
            const data = JSON.parse(jsonData);
            console.log(data);
            setTimeout(function () {
                $("#message14").text(data.shelf_life14)
            }, 3000);
        };
        if (localStorage.getItem("memo16")) {
            const jsonData = localStorage.getItem("memo16");
            console.log(jsonData);
            const data = JSON.parse(jsonData);
            console.log(data);
            setTimeout(function () {
                $("#message15").text(data.shelf_life15)
            }, 3000);
        };
        if (localStorage.getItem("memo17")) {
            const jsonData = localStorage.getItem("memo17");
            console.log(jsonData);
            const data = JSON.parse(jsonData);
            console.log(data);
            setTimeout(function () {
                $("#message16").text(data.shelf_life16)
            }, 3000);
        };
        if (localStorage.getItem("memo18")) {
            const jsonData = localStorage.getItem("memo18");
            console.log(jsonData);
            const data = JSON.parse(jsonData);
            console.log(data);
            setTimeout(function () {
                $("#message17").text(data.shelf_life17)
            }, 3000);
        };




//////////////////////////////////////////////////////
//ローカルストレージにデータが保存されていた場合は○○秒後に"SOS"が表示される。
//if (localStorage.getItem("memo1") && setTimeout(function, 5000() {
//const jsonData = localStorage.getItem("memo");
//console.log(jsonData);
//const data = JSON.parse(jsonData);
//console.log(data);
//⇓期日が近づいたら表示されるようにする。
//$("#potato").val(data.shelf_life);
//$("#message").val(data.text);
//});
/////////////////////////////////////////////////////

/////////////////////////////////////////////////////
//const data = {
//sos: $("#potato").val()
//『食材の名前』がピンチ！！と出力されるようにする
//};
//const jsonData = JSON.stringify(data);
//console.log(jsonData);
//localStorage.setItem("shelf_life", jsonData);
//});
////////////////////////////////////////////////////


///////////////////////////////////////////////////////
//ローカルストレージにデータが保存され、かつ○○秒後経過した場合に"SOS"が表示される。
//if (localStorage.getItem("memo1") && setTimeout(function, 5000() {
//const jsonData = localStorage.getItem("memo");
//console.log(jsonData);
//const data = JSON.parse(jsonData);
//console.log(data);
//$("#potato").val(data.shelf_life);
//$("#message").val(data.text);
//});
///////////////////////////////////////////////////////

    </script>


</body>

</html>